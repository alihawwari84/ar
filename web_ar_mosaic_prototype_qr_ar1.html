<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Image-Tracked AR Overlay (MindAR)</title>
  <!-- A‑Frame + MindAR (image tracking in the browser) -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.4/dist/mindar-image-aframe.prod.js"></script>
  <style>
    body{margin:0;font-family:system-ui,Segoe UI,Arial;background:#0a0f12;color:#e9eef9}
    header{position:sticky;top:0;background:#0e1624;padding:10px 16px;border-bottom:1px solid #1c2943}
    .wrap{max-width:960px;margin:auto;padding:14px 16px}
    .card{background:#101a2e;border:1px solid #203152;border-radius:12px;padding:14px;margin:12px 0}
    .muted{color:#9fb3d9}
    .kbd{display:inline-block;padding:2px 6px;border:1px solid #3a4f79;border-radius:6px;background:#0e1a30;color:#cfe0ff;font-family:ui-monospace,Consolas,monospace}
    a.btn{display:inline-block;padding:8px 12px;background:#1b355b;border:1px solid #2e4a78;border-radius:10px;color:#e9eef9;text-decoration:none}
    ol{margin:0 0 0 1.2rem}
  </style>
</head>
<body>
  <header><div class="wrap">Image‑Tracked AR • Overlay a picture exactly on a real‑world target</div></header>

  <div class="wrap">
    <div class="card">
      <b>How this works:</b>
      <p class="muted">Point your phone camera at the <i>target image</i>. When MindAR recognizes it, the <i>overlay image</i> will snap exactly onto it (like in your YouTube example).</p>
      <p class="muted">Place your files here:
        <span class="kbd">/assets/target.mind</span> (compiled target) and
        <span class="kbd">/assets/overlay.png</span> (or .jpg).
      </p>
    </div>
  </div>

  <!-- ======= AR SCENE ======= -->
  <a-scene
    mindar-image="imageTargetSrc: ./assets/target.mind; filterMinCF:0.001; filterBeta: 0.01"
    color-space="sRGB"
    renderer="colorManagement: true, physicallyCorrectLights"
    vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: true"
    embedded
    style="width:100vw;height:100vh;">

    <a-assets>
      <!-- Replace with your actual overlay image -->
      <img id="overlay" src="./assets/overlay.png" crossorigin="anonymous"/>
    </a-assets>

    <!-- Camera -->
    <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

    <!-- Anchor to first target (index 0 inside target.mind) -->
    <a-entity mindar-image-target="targetIndex: 0">
      <!-- This <a-image> is glued on top of the recognized target -->
      <!-- width/height are in meters in AR space; keep same aspect ratio as your overlay -->
      <a-image src="#overlay" position="0 0 0" rotation="0 0 0" width="0.6" height="0.4"></a-image>
    </a-entity>
  </a-scene>

  <div class="wrap">
    <div class="card">
      <b>Checklist (what to upload):</b>
      <ol>
        <li>Create <span class="kbd">assets/target.mind</span> using MindAR’s Target Compiler from a high‑detail photo of the physical place you want to track (e.g., the mosaic panel/plaque).</li>
        <li>Export/prepare your overlay image as <span class="kbd">assets/overlay.png</span> (same aspect ratio as the real panel).</li>
        <li>Deploy over <b>HTTPS</b> (Netlify/Vercel). Test on a modern mobile browser.</li>
      </ol>
      <p class="muted">Tip: Set the AR size by adjusting the <span class="kbd">width/height</span> of the <span class="kbd">&lt;a-image&gt;</span> (meters). If the real panel is ~60cm × 40cm, use <span class="kbd">0.6</span> × <span class="kbd">0.4</span>.</p>
      <p><a class="btn" href="#how">Show me the exact steps</a></p>
    </div>

    <div id="how" class="card">
      <b>Exact steps (do these now):</b>
      <ol>
        <li><b>Pick the target photo</b> (the real‑world surface you’ll track). It must have texture/details (not a plain surface).</li>
        <li><b>Compile the target</b> to <span class="kbd">target.mind</span> (MindAR Target Compiler). Download it.</li>
        <li><b>Add files to your repo:</b>
          <ul>
            <li><span class="kbd">/assets/target.mind</span></li>
            <li><span class="kbd">/assets/overlay.png</span> (the picture you want to appear)</li>
          </ul>
        </li>
        <li><b>Match dimensions</b>: edit the <span class="kbd">width</span>/<span class="kbd">height</span> on the <span class="kbd">&lt;a-image&gt;</span> so it matches the real panel size in meters.</li>
        <li><b>Deploy</b> to an HTTPS host (Netlify/Vercel). Open on phone, allow camera.</li>
        <li><b>Test at the site</b>: point at the real panel. The overlay should snap on top. Fine‑tune width/height if needed.</li>
      </ol>
      <p class="muted">Need a <b>video</b> instead of a still image? Replace <span class="kbd">&lt;a-image&gt;</span> with <span class="kbd">&lt;a-video src="#vid" ...&gt;</span> and add a muted, autoplaying MP4 in &lt;a-assets&gt;.</p>
    </div>
  </div>
</body>
</html>
